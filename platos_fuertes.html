<div id="recetas-container">

    <div class="receta active">
        <h2>🥩 Bistec con Mantequilla de Ajo 🧄</h2>
        <p class="info">Una receta jugosa y llena de sabor, perfecta para los amantes de la carne.</p>

        <p><strong>Lista de ingredientes:</strong></p>
        <ul>
            <li>200g de carne de res 🥩</li>
            <li>1 cucharada de mantequilla 🧈</li>
            <li>2 dientes de ajo picados 🧄</li>
            <li>Sal y pimienta al gusto</li>
        </ul>

        <p><strong>🍽️ Información nutricional (por porción):</strong></p>
        <ul>
            <li>Calorías: 480 kcal</li>
            <li>Proteínas: 42g</li>
            <li>Grasas: 34g (mantequilla y carne)</li>
            <li>Carbohidratos: 2g (<span class="importante">Ajo</span>)</li>
        </ul>

        <p><strong>⏳ Tiempo de preparación:</strong> 15 minutos | <strong>🔧 Dificultad:</strong> Fácil</p>

        <p><strong>🥣 Paso a paso:</strong></p>
        <ul>
            <li>Salpimienta el bistec y cocínalo en una sartén caliente.</li>
            <li>Agrega la mantequilla y el ajo picado al final para potenciar el sabor.</li>
            <li>Deja reposar por 5 minutos antes de servir.</li>
        </ul>

        <p><strong>🎨 Cómo servir:</strong> Acompañado de espárragos a la parrilla y rodajas de limón.</p>
        <p><strong>🍷 Bebida recomendada:</strong> Vino tinto seco 🍷</p>

        <p><strong>💡 Inspiración y beneficios:</strong> Ideal para una dieta cetogénica, este plato es rico en proteínas y grasas saludables. 🏋️</p>
    </div>

    <div class="receta">
        <h2>🐟 Salmón al Horno con Espárragos 🌿</h2>
        <p class="info">Un platillo ligero y elegante, lleno de ácidos grasos Omega-3.</p>

        <p><strong>Lista de ingredientes:</strong></p>
        <ul>
            <li>150g de salmón 🐟</li>
            <li>5 espárragos verdes 🌿</li>
            <li>1 cucharada de aceite de oliva 🫒</li>
            <li>Jugo de limón 🍋</li>
            <li>Sal y pimienta</li>
        </ul>

        <p><strong>🍽️ Información nutricional (por porción):</strong></p>
        <ul>
            <li>Calorías: 360 kcal</li>
            <li>Proteínas: 32g</li>
            <li>Grasas: 24g</li>
            <li>Carbohidratos: 6g (<span class="importante">Espárragos y limón</span>)</li>
        </ul>

        <p><strong>⏳ Tiempo de preparación:</strong> 20 minutos | <strong>🔧 Dificultad:</strong> Media</p>

        <p><strong>🥣 Paso a paso:</strong></p>
        <ul>
            <li>Coloca el salmón y los espárragos en una bandeja de horno.</li>
            <li>Rocía con aceite de oliva, jugo de limón, sal y pimienta.</li>
            <li>Hornea a 180°C por 15 minutos.</li>
        </ul>

        <p><strong>🎨 Cómo servir:</strong> En un plato blanco con una ramita de eneldo fresco.</p>
        <p><strong>🍷 Bebida recomendada:</strong> Té verde frío 🍵</p>

        <p><strong>💡 Inspiración y beneficios:</strong> Un plato con raíces escandinavas, excelente para el sistema cardiovascular. 💙</p>
    </div>

    <div class="receta">
        <h2>🍗 Pollo al Curry con Leche de Coco 🥥</h2>
        <p class="info">Un plato con aromas exóticos y una textura cremosa irresistible.</p>

        <p><strong>Lista de ingredientes:</strong></p>
        <ul>
            <li>200g de pechuga de pollo 🍗</li>
            <li>1/2 taza de leche de coco 🥥</li>
            <li>1 cucharadita de curry en polvo 🍛</li>
            <li>1 diente de ajo 🧄</li>
            <li>Sal y pimienta</li>
        </ul>

        <p><strong>🍽️ Información nutricional (por porción):</strong></p>
        <ul>
            <li>Calorías: 420 kcal</li>
            <li>Proteínas: 40g</li>
            <li>Grasas: 26g</li>
            <li>Carbohidratos: 5g (<span class="importante">Leche de coco y ajo</span>)</li>
        </ul>

        <p><strong>⏳ Tiempo de preparación:</strong> 25 minutos | <strong>🔧 Dificultad:</strong> Media</p>

        <p><strong>🥣 Paso a paso:</strong></p>
        <ul>
            <li>Corta el pollo en cubos y saltéalo con ajo.</li>
            <li>Agrega la leche de coco y el curry en polvo.</li>
            <li>Cocina a fuego lento hasta que la salsa espese.</li>
        </ul>

        <p><strong>🎨 Cómo servir:</strong> En un plato hondo con cilantro fresco por encima.</p>
        <p><strong>🍷 Bebida recomendada:</strong> Limonada con jengibre 🍋</p>

        <p><strong>💡 Inspiración y beneficios:</strong> Inspirado en la cocina tailandesa, ayuda a fortalecer el sistema inmunológico. 🛡️</p>
    </div>

    <div class="receta">
        <h2>🥓 Omelette Keto con Queso y Tocino 🧀</h2>
        <p class="info">Desayuno o cena rápida, perfecta para mantener la cetosis.</p>

        <p><strong>Lista de ingredientes:</strong></p>
        <ul>
            <li>2 huevos 🥚</li>
            <li>50g de queso cheddar 🧀</li>
            <li>2 tiras de tocino 🥓</li>
            <li>1 cucharada de mantequilla 🧈</li>
        </ul>

        <p><strong>🍽️ Información nutricional (por porción):</strong></p>
        <ul>
            <li>Calorías: 480 kcal</li>
            <li>Proteínas: 32g</li>
            <li>Grasas: 38g</li>
            <li>Carbohidratos: 1g</li>
        </ul>

        <p><strong>⏳ Tiempo de preparación:</strong> 10 minutos | <strong>🔧 Dificultad:</strong> Fácil</p>

        <p><strong>🥣 Paso a paso:</strong></p>
        <ul>
            <li>Cocina el tocino hasta que quede crujiente.</li>
            <li>Bate los huevos y agrégales el queso rallado.</li>
            <li>Vierte la mezcla en una sartén con mantequilla y cocina a fuego medio.</li>
        </ul>

        <p><strong>🎨 Cómo servir:</strong> Doblado en triángulo y con perejil picado encima.</p>
        <p><strong>🍷 Bebida recomendada:</strong> Café negro ☕</p>

        <p><strong>💡 Inspiración y beneficios:</strong> Un clásico para la dieta keto, aporta saciedad y energía sostenida. ⚡</p>
        
        
        <button class="btn-like" data-id="receta1">👍 Me gusta</button> 
<span id="likes-receta1" class="likes-count" data-id="receta1">0</span>


    </div>
    
    

</div>

<button id="siguienteReceta">➡️ Siguiente Receta</button>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
  import { getFirestore, doc, getDoc, setDoc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-firestore.js";

  // Configuración de Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyB5DlW2q4Hw4QvMfwB71CBEGI3i1ZLYiUA",
    authDomain: "likes-bb8fc.firebaseapp.com",
    projectId: "likes-bb8fc",
    storageBucket: "likes-bb8fc.appspot.com",
    messagingSenderId: "943357612702",
    appId: "1:943357612702:web:0ecc2e16a7e2861e30a18f",
    measurementId: "G-5PT135W0CL"
  };

  // Inicializar Firebase y Firestore
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Función para manejar los "Me gusta"
  async function handleLike(event) {
    const button = event.target;
    const recetaId = button.getAttribute("data-id");
    const docRef = doc(db, "likes", recetaId);

    try {
      const docSnap = await getDoc(docRef);

      if (!docSnap.exists()) {
        await setDoc(docRef, { likes: 1 }); // Si no existe, lo crea con 1 like
      } else {
        await updateDoc(docRef, { likes: increment(1) }); // Si existe, suma 1
      }

      // Obtener y mostrar los nuevos likes
      const updatedDoc = await getDoc(docRef);
      document.getElementById(`likes-${recetaId}`).innerText = updatedDoc.data().likes;
    } catch (error) {
      console.error("Error al actualizar los likes:", error);
    }
  }

  // Evento para adjuntar la función a los botones
  document.addEventListener("DOMContentLoaded", async () => {
    const buttons = document.querySelectorAll(".btn-like");
    buttons.forEach(button => {
      button.addEventListener("click", handleLike);
    });

    // Cargar los contadores de "Me gusta" al inicio
    const spans = document.querySelectorAll(".likes-count");
    spans.forEach(async span => {
      const recetaId = span.getAttribute("data-id");
      const docRef = doc(db, "likes", recetaId);
      const docSnap = await getDoc(docRef);
      span.innerText = docSnap.exists() ? docSnap.data().likes : 0;
    });
  });
</script> 
